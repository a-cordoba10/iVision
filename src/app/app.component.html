<div class="modal-u" [class.selected]="modalCircle">
  <div class="modal-navbar">
    <div class="txt bold">Información del Círculo 
      <button class="btn-1" [class.selected]="circleTab === 0" [disabled]="circleTab === 0" (click)="toggleCircleTab(0)">USUARIOS</button> 
      <button class="btn-1" [class.selected]="circleTab === 1" [disabled]="circleTab === 1" (click)="toggleCircleTab(1)">OBJETOS</button>
      <button class="btn-1" [class.selected]="circleTab === 2" [disabled]="circleTab === 2" (click)="toggleCircleTab(2)">HISTORIAL</button></div>
    <button class="btn-1" (click)="closeModal('c')">
      <img src="../assets/cancel.svg" alt="">
    </button>
  </div>
  <div class="brief">
    <img [src]="(cCircle | async)?.imageUrl" alt="">
    <div class="txt bold">{{(cCircle | async)?.name}}</div>
    <div class="txt">Dirección: {{(cCircle | async)?.addrress}}</div>
    <div class="txt light">Lat: {{(cCircle | async)?.location._lat}}, Long: {{(cCircle | async)?.location._long}}</div>
  </div>
  <div class="circles">
    <ng-container *ngIf="circleTab === 0">
        <div class="circle" *ngFor="let user of (cCircle | async)?.participants" (click)="openUser(user.objectID)">
            {{user.name}} ({{user.phone}})
          </div>
    </ng-container>
    <ng-container *ngIf="circleTab === 1">
        <div class="circle -disabled" *ngFor="let object of cObjectsCircle | async">
            <img [src]="object.image" alt="">  {{object.name}} - ({{object.state}})
          </div>
    </ng-container>
    <ng-container *ngIf="circleTab === 2">
        <div class="circle -disabled" *ngFor="let history of cHistoryCircle | async">
            {{history.name}}
          </div>
    </ng-container>
  </div>
</div>

<div class="modal-u" [class.selected]="modalUser">
  <div class="modal-navbar">
    <div class="txt bold">Información de Usuario</div>
    <button class="btn-1" (click)="closeModal('u')">
      <img src="../assets/cancel.svg" alt="">
    </button>
  </div>
  <div class="brief">
    <div class="txt bold">{{(cUser | async)?.name}}</div>
    <div class="txt">{{(cUser | async)?.email}}</div>
    <div class="txt light">{{(cUser | async)?.phone}}</div>
  </div>
  <div class="circles">
    <div class="circle" *ngFor="let circle of (cUser | async)?.circles" (click)="openCircle(circle.objectID)">
      {{circle.name}}
    </div>
  </div>
</div>

<div class="navbar">
  <div class="txt bold">iVision</div>
  <button class="btn-1" [class.selected]="userList === 0" [disabled]="userList === 0" (click)="toggleTab(0)">USUARIOS</button>
  <button class="btn-1" [class.selected]="userList === 1" [disabled]="userList === 1" (click)="toggleTab(1)">CÍRCULOS</button>
  <button class="btn-1" [class.selected]="userList === 2" [disabled]="userList === 2" (click)="toggleTab(2)">ESTADÍSTICAS</button>
</div>
<div class="header">
  <div class="title">
    <div *ngIf="userList === 0" class="txt bold">Usuarios</div>
    <div *ngIf="userList === 1" class="txt bold">Círculos</div>
    <div *ngIf="userList === 2" class="txt bold">Estadísticas</div>
  </div>
</div>
<div class="list">
  <ng-container *ngIf="userList === 0">
    <div class="user" *ngFor="let user of user$ | async" (click)="openUser(user.id)">
      <img src="../assets/user.svg" alt="">
      <div class="txt bold">{{user.name}}</div>
      <div class="txt light-color">{{user.email}}</div>
      <div class="txt light">{{user.phone}}</div>
    </div>
  </ng-container>
  <ng-container *ngIf="userList === 1">
    <div class="user" *ngFor="let circle of circle$ | async" (click)="openCircle(circle.id)">
      <img [src]="circle.imageUrl" alt="">
      <div class="txt bold">{{circle.name}}</div>
      <div class="txt light-color">{{circle.addrress}}</div>
    </div>
  </ng-container>
  <ng-container *ngIf="userList === 2">
      <div class="user">
      <canvas baseChart
                [datasets]="barChartData"
                [labels]="barChartLabels"
                [options]="barChartOptions"
                [legend]="barChartLegend"
                [chartType]="barChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
      </div>
      <div class="user">
        <canvas baseChart
                  [datasets]="barChartData2"
                  [labels]="barChartLabels2"
                  [options]="barChartOptions"
                  [legend]="barChartLegend"
                  [chartType]="barChartType"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
        <div class="user">
          <canvas baseChart
                    [datasets]="barChartData3"
                    [labels]="barChartLabels3"
                    [options]="barChartOptions"
                    [legend]="barChartLegend"
                    [chartType]="barChartType"
                    (chartHover)="chartHovered($event)"
                    (chartClick)="chartClicked($event)"></canvas>
          </div>
          <div class="user">
            <canvas baseChart
                      [datasets]="barChartData4"
                      [labels]="barChartLabels4"
                      [options]="barChartOptions"
                      [legend]="barChartLegend"
                      [chartType]="barChartType"
                      (chartHover)="chartHovered($event)"
                      (chartClick)="chartClicked($event)"></canvas>
            </div>
  </ng-container>
</div>